<html xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">
<head>
<title></title>
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="viewport" content="width=device-width, minimum-scale=1.0" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

   <link type="text/css" rel="stylesheet" href="./css/aristo/jquery-ui-1.8.16.custom.css" />
   <link type="text/css" rel="stylesheet" href="./css/jquery.layout.css" />
   <link type="text/css" rel="stylesheet" href="./css/application.css" />
   <link type="text/css" rel="stylesheet" href="./css/GraphLang_application.css" />

    <script src="./lib/jquery.js"></script>
    <script src="./lib/jquery-ui.js"></script>
    <script src="./lib/jquery.browser.js"></script>
    <script src="./lib/jquery.layout.js"></script>

    <script src="../draw2d/dist/draw2d.js"></script>

    <script type="text/javascript">
      /**
       *  GLOBAL DEFINITIONS
       */
      //save reference to canvas to have it globally acessible
      var appCanvas;
      var GraphLang = {};
      GraphLang.Shapes = {};
      GraphLang.Shapes.Basic = {};
      GraphLang.Shapes.Basic.Constant = {};
      GraphLang.Shapes.ItemsNode = {};
      GraphLang.geo = new Object();
    </script>


    <script src="./gui/Application.js"></script>
	  <script src="./gui/View.js"></script>
    <script src="./gui/Toolbar.js"></script>
    <script src="./gui/HoverConnection.js"></script>

    <!-- These are mine shapes added. LuboJ. -->
      <script src="./GraphLangShapes/__initEnv.js"></script>
      <script src="./GraphLangShapes/Geo.js"></script>
      <script src="./GraphLangShapes/Port.js"></script>
      <script src="./GraphLangShapes/InputPort.js"></script>
      <script src="./GraphLangShapes/OutputPort.js"></script>
      <script src="./GraphLangShapes/Shapes.js"></script>
      <script src="./GraphLangShapes/Numeric.js"></script>
      <script src="./GraphLangShapes/Subtract.js"></script>
      <script src="./GraphLangShapes/Add.js"></script>
      <script src="./GraphLangShapes/Label.js"></script>  <!-- here is some serious PROBLEM, without definition inside file of variale it's not running, DAMN-->
      <script src="./GraphLangShapes/PropertyNode.js"></script>
      <script src="./GraphLangShapes/InvokeNode.js"></script>
      <script src="./GraphLangShapes/Loop.js"></script>
      <script src="./GraphLangShapes/Multilayered.js"></script> <!-- LuboJ, my invention -->
      <script src="./GraphLangShapes/Tunnel.js"></script>
      <script src="./GraphLangShapes/LeftTunnel.js"></script>
      <script src="./GraphLangShapes/RightTunnel.js"></script>
      <script src="./GraphLangShapes/constantString.js"></script>
      <script src="./GraphLangShapes/constantInt32.js"></script>
      <script src="./GraphLangShapes/constantBool.js"></script>
      <script src="./GraphLangShapes/constantFloat.js"></script>

      <script src="./GraphLangShapes/WhileLoop.js"></script>
      <script src="./GraphLangShapes/ForLoop.js"></script>
      <script src="./GraphLangShapes/FeedbackNode.js"></script>
      <script src="./GraphLangShapes/UnbundleByName.js"></script>
      <script src="./GraphLangShapes/BundleByName.js"></script>
      <script src="./GraphLangShapes/NumericConstant.js"></script>
      <script src="./GraphLangShapes/Array.js"></script>
      <script src="./GraphLangShapes/ClusterDatatype.js"></script>
      <script src="./GraphLangShapes/ExternalOutputPort.js"></script>
      <script src="./GraphLangShapes/ExternalInputPort.js"></script>
      <script src="./GraphLangShapes/UserCodeBlock.js"></script>
    <!-- End of GraphLang shapes-->

    <!-- These are mine arduino shapes added. LuboJ. -->
      <script src="./ArduinoLib/__initEnv.js"></script>
      <script src="./ArduinoLib/Node/__initEnv.js"></script>
      <script src="./ArduinoLib/Node/DecoratedInputPort.js"></script>
      <script src="./ArduinoLib/Node/MarkerFigure.js"></script> <!-- THIS IS HERE TO DRAW CUSTOM SYMBOLS CORRECTLY -->
      <script src="./ArduinoLib/Node/MarkerStateAFigure.js"></script> <!-- THIS IS HERE TO DRAW CUSTOM SYMBOLS CORRECTLY -->
      <script src="./ArduinoLib/Node/MarkerStateBFigure.js"></script> <!-- THIS IS HERE TO DRAW CUSTOM SYMBOLS CORRECTLY -->
      <script src="./ArduinoLib/Node/Add.js"></script>
      <script src="./ArduinoLib/Node/Subtract.js"></script>
      <script src="./ArduinoLib/Node/Multiply.js"></script>
      <script src="./ArduinoLib/Node/Divide.js"></script>
      <script src="./ArduinoLib/Node/digitalWrite.js"></script>
      <script src="./ArduinoLib/Node/digitalRead.js"></script>
      <script src="./ArduinoLib/Node/analogRead.js"></script>
      <script src="./ArduinoLib/Node/analogWrite.js"></script>
      <script src="./ArduinoLib/Node/waitUntilNextMs.js"></script>
      <script src="./ArduinoLib/Node/Math.Abs.js"></script>
      <script src="./ArduinoLib/Node/pinMode.js"></script>
      <script src="./ArduinoLib/Node/Serial.begin.js"></script>
      <script src="./ArduinoLib/Node/Serial.println.js"></script>
      <script src="./ArduinoLib/Node/toStr.js"></script>
      <script src="./ArduinoLib/Node/ternarOperator.js"></script>
      <script src="./ArduinoLib/Node/LJ42.js"></script>
      <script src="./ArduinoLib/Node/ArduinoNano.js"></script>

      <script src="./ArduinoLib/String/__initEnv.js"></script>
      <script src="./ArduinoLib/String/replace.js"></script>
    <!-- End of GraphLang shapes-->

    <script src="./GraphLangUtils/Utils.js"></script>
    <script src="./GraphLangUtils/RightRelPortLocator.js"></script>
    <script src="./GraphLangUtils/BottomRelPortLocator.js"></script>
    <script src="./GraphLangUtils/LeftRelPortLocator.js"></script>
    <script src="./GraphLangUtils/TopRelPortLocator.js"></script>
    <script src="./GraphLangUtils/CommandDelete.js"></script>
    <script src="./GraphLangUtils/KeyboardDeletePolicy.js"></script>
    <script src="./GraphLangUtils/Color.js"></script>

    <script type="text/javascript">var jsonDocument = [];</script>
    <!-- <script src="./GraphLangSchematics/Default Schematic 1.js"></script> -->
    <!-- <script src="./GraphLangSchematics/Default Schematic 2.js"></script> -->
    <!-- <script src="./GraphLangSchematics/Default Schematic 3.js"></script> -->
    <!-- <script src="./GraphLangSchematics/Default Schematic 4.js"></script> -->
    <!-- <script src="./GraphLangSchematics/Default Schematic 5.js"></script> -->
    <!-- <script src="./GraphLangSchematics/Default Schematic 6.js"></script> -->
    <!-- <script src="./GraphLangSchematics/Default Schematic 7.js"></script> -->
    <!-- <script src="./GraphLangSchematics/Default Schematic 8.js"></script> -->
    <!-- <script src="./GraphLangSchematics/Default Schematic 9.js"></script> -->
    <!-- <script src="./GraphLangSchematics/Default Schematic 10.js"></script> -->
    <!-- <script src="./GraphLangSchematics/Default Schematic 11.js"></script> -->
    <!-- <script src="./GraphLangSchematics/Default Schematic 12.js"></script> -->
    <!-- <script src="./GraphLangSchematics/Default Schematic 14.js"></script> -->
    <!-- <script src="./GraphLangSchematics/Default Schematic 15.js"></script> -->
 <script type="text/javascript">

document.addEventListener("DOMContentLoaded",function () {
     var app  = new example.Application();

     /**
      *   WIRE CONNECTION policy
      */
     app.view.installEditPolicy(  new draw2d.policy.connection.DragConnectionCreatePolicy({
        createConnection: function(){
            var newWire = new HoverConnection();
            var newWireColor = new GraphLang.Utils.Color();
            newWire.setColor(newWireColor.getByName('broken'));

            return newWire;
        },
        delegateTarget: function(requestingFigure, connectTarget){
            // we allow that a figure with a special class is droppable to a connection
            //
            if(requestingFigure instanceof TunnelFigure && connectTarget instanceof draw2d.Connection){
                return connectTarget;
            }

            return this._super(requestingFigure, connectTarget);
        }
      }));





//draw2d.command.CommandStackListener




      /*
       *  KEYBOARD reactions
       */
      app.view.uninstallEditPolicy(new draw2d.policy.canvas.DefaultKeyboardPolicy());
      app.view.installEditPolicy(new GraphLang.Utils.KeyboardDeletePolicy());

      /**
       *  Adding actions TRIGGERED AFTER COMMAND STACK WAS CHANGED, ie. some command run succesfully
       *  Update JSON representation of canvas
       */
      appCanvas = app.view;
      app.view.getCommandStack().addEventListener(function(e){
          //postChangeEvent is notification when command already run
          if(e.isPostChangeEvent()){
  	          displayJSON(appCanvas);              //update JSON string somewhere in log window on canvas


              /*
               *  Change wire color by source port.
               */
              var lastCommand = e.getCommand();
              if (lastCommand.getLabel() == 'Connect Ports'){
                var wireColor = new GraphLang.Utils.Color();
                lastCommand.connection.setColor(wireColor.getByName(lastCommand.source.userData.datatype));
              }
  	      }
  	  });

      /*****************************************************************************
       * READING DEFAULT SCHEMATIC AND DRAW IT
       *****************************************************************************/
      var reader = new draw2d.io.json.Reader();
      reader.unmarshal(appCanvas, jsonDocument);

      /****************************************
       * BUTTONS
       ****************************************/
      // Function to button Run is assigned in Toolbar.js
      //GraphLang.Utils.run(function(){alert("Anonymous functions given to run()");});
      //This here is just click() handler, because here appCanvas has visibility
      //I put it in front of HTML file so now should be visible everywhere.
      $("#runButton").button().click($.proxy(function(){
        GraphLang.Utils.run(appCanvas);
      }));

      /**************************************
       *  BUTTON "Detect Joints"
       **************************************/
      $("#detectJointsButton").button().click($.proxy(function(){
        GraphLang.Utils.detectJoints(appCanvas);
      	}));

      /**************************************
       *  BUTTON "Run Interpreter"
       **************************************/
      $("#runInterpreterButton").button().click($.proxy(function(){
        GraphLang.Utils.runInterpreter(appCanvas);
      }));

      /**************************************
       *  BUTTON "Go Through Graph"
       **************************************/
      $("#goThroughGraphButton").button().click($.proxy(function(){
       GraphLang.Utils.goThroughGraph(appCanvas);
      }));

      /**************************************
      *  BUTTON "Show Nodes"
      **************************************/
      $("#showNodesButton").button().click($.proxy(function(){
        GraphLang.Utils.showNodes(appCanvas);
      }));


      /**************************************
       *  BUTTON "Detect Tunnels"
       **************************************/
      $("#detectTunnelsButton").button().click($.proxy(function(){
        GraphLang.Utils.detectTunnels(appCanvas);
      }));

      /**************************************
       *  BUTTON "Init ports"
       **************************************/
       $("#initPortsToDefaultButton").button().click($.proxy(function(){
         GraphLang.Utils.initAllPortToDefault(appCanvas);
       }));

      /**************************************
       *  BUTTON "Execution order"
       **************************************/
       $("#executionOrderButton").button().click($.proxy(function(){
         GraphLang.Utils.executionOrder(appCanvas);
       }));

      /**************************************
      *  BUTTON "Bring to Front"
      **************************************/
      $("#bringToFrontButton").button().click($.proxy(function(){
        GraphLang.Utils.bringToFront(appCanvas);
      }));

      /**************************************
       *  BUTTON "Bring to Back"
       **************************************/
       $("#bringToBackButton").button().click($.proxy(function(){
         GraphLang.Utils.bringToBack(appCanvas);
       }));

      /**************************************
       *  BUTTON "runNodeInOrder"
       **************************************/
      $("#runNodesInOrderButton").button().click($.proxy(function(){
        GraphLang.Utils.runNodesInOrder(appCanvas);
      }));

      /**************************************
       *  BUTTON "showPortExecutionOrder"
       **************************************/
      $("#showPortExecutionOrderButton").button().click($.proxy(function(){
        GraphLang.Utils.showPortExecutionOrder(appCanvas);
      }));

      /**************************************
       *  BUTTON "highlightNodesByExecutionOrderButton"
       **************************************/
      $("#highlightNodesByExecutionOrderButton").button().click($.proxy(function(){
        GraphLang.Utils.highlightNodesByExecutionOrder(appCanvas);
      }));

      /**************************************
       *  BUTTON "translateToCppCodeButton"
       **************************************/
      $("#translateToCppCodeButton").button().click($.proxy(function(){
        GraphLang.Utils.translateToCppCode(appCanvas);
      }));

      /**************************************
      *  BUTTON "translateToCppCode2Button"
      **************************************/
      $("#translateToCppCode2Button").button().click($.proxy(function(){
        GraphLang.Utils.translateToCppCode2(appCanvas);
      }));

      /**************************************
      *  BUTTON "loopsRecalculateAbroadFigures"
      **************************************/
      $("#loopsRecalculateAbroadFiguresButton").button().click($.proxy(function(){
       GraphLang.Utils.loopsRecalculateAbroadFigures(appCanvas);
      }));

      /**************************************
      *  BUTTON "initLoopsZOrderButton"
      **************************************/
      $("#initLoopsZOrderButton").button().click($.proxy(function(){
       GraphLang.Utils.initLoopsZOrder(appCanvas);
      }));

      /**************************************
      *  BUTTON "showSelectedObjExecutionOrderButton"
      **************************************/
      $("#showSelectedObjExecutionOrderButton").button().click($.proxy(function(){
       GraphLang.Utils.showSelectedObjExecutionOrder(appCanvas);
      }));

      /**************************************
      *  BUTTON "showSelectedObjExecutionOrderButton"
      **************************************/
      $("#setWiresColorByPortsButton").button().click($.proxy(function(){
       GraphLang.Utils.setWiresColorByPorts(appCanvas);
      }));

      /**************************************
      *  BUTTON "getDirectChildrenWiresButton"
      **************************************/
      $("#getDirectChildrenWiresButton").button().click($.proxy(function(){
       GraphLang.Utils.getDirectChildrenWires(appCanvas);
      }));

      /**************************************
      *  BUTTON "getDirectChildrenWiresButton"
      **************************************/
      $("#getSelectedLoopTunnelCountButton").button().click($.proxy(function(){
       GraphLang.Utils.getSelectedLoopTunnelCount(appCanvas);
      }));

      /**************************************
      *  BUTTON "getCanvasJsonButtonButton"
      **************************************/
      $("#getCanvasJsonButton").button().click($.proxy(function(){
       GraphLang.Utils.getCanvasJson(appCanvas);
      }));

      /**************************************
      *  BUTTON "getCanvasJsonButtonButton"
      **************************************/
      $("#getCppCode2Button").button().click($.proxy(function(){
       GraphLang.Utils.getCppCode2(appCanvas);
      }));

      /**************************************
      *  BUTTON "getExportCanvasAsPNGButton"
      **************************************/
      $("#exportCanvasAsPNGButton").button().click($.proxy(function(){
       GraphLang.Utils.getCanvasAsPNG(appCanvas);
      }));

});

/**
 *  This is called on event and serializing canvas into JSON format here to have some results.
 *  @return Return value is JSON string to be able produce obj on another place
 */
function displayJSON(canvas){
    var writer = new draw2d.io.json.Writer();
    var jsonStr = "";
    writer.marshal(appCanvas,function(json){
      //LuboJ modification to remove Tunnels, they appear in json after executionOrder, THIS IS PROBLEM, this solution is just for now
      var clearedJson = [];
      var wrongJson = [];
      for (var k = 0; k < json.length; k++){
        if (json[k].type.toLowerCase().search("tunnel") == -1) clearedJson.push(json[k]);
        else wrongJson.push(json[k]);
      }

      jsonStr = JSON.stringify(clearedJson, null, 2);
      $("#json").text(jsonStr);

      //LuboJ auxiliary view
      jsonStr = JSON.stringify(wrongJson, null, 2);
      $("#json2").text(jsonStr);
    });
    return jsonStr;
}
</script>

</head>

<body id="container">

   <div id="content">
   		<div id="toolbar"></div>
   		<div id="canvas" style="width: 1000px; height: 1000px;"></div>
   </div>

   <div id="navigation" class="">
<!--
      <div data-shape="draw2d.shape.node.Start"   class="palette_node_element draw2d_droppable">Start</div>
      <div data-shape="draw2d.shape.node.End"     class="palette_node_element draw2d_droppable">End</div>
    	<div data-shape="draw2d.shape.node.Between" data-width="300" data-height="50" data-label="Hub label" class="palette_node_element draw2d_droppable">Between</div>
      <div data-shape="draw2d.shape.node.Hub" data-width="10" data-height="100" data-label="Hub label" class="palette_node_element draw2d_droppable">Hub</div>
      <div data-shape="draw2d.shape.node.VerticalBus" data-width="10" data-height="100" data-label="Hello world" class="palette_node_element draw2d_droppable">VerticalBus</div>
-->

      <div data-shape="GraphLang.Shapes.Basic.UserCodeBlock" data-width="30" data-height="30" data-label="GraphLang UserCodeBlock" class="palette_node_element draw2d_droppable">UserCodeBlock</div>
      <div data-shape="GraphLang.Shapes.ExternalInputPort" data-width="300" data-height="300" data-label="GraphLang ExternalInputPort" class="palette_node_element draw2d_droppable">ExternalInputPort</div>
      <div data-shape="GraphLang.Shapes.ExternalOutputPort" data-width="300" data-height="300" data-label="GraphLang ExternalOutputPort" class="palette_node_element draw2d_droppable">ExternalOutputPort</div>
      <div data-shape="GraphLang.Shapes.Basic.ClusterDatatype" data-label="GraphLang ClusterDatatype" class="palette_node_element draw2d_droppable">
        <img src="GraphLangSymbols/Arduino_clusterDatatype.png" />
        GraphLang ClusterDatatype
      </div>
      <div data-shape="GraphLang.Shapes.Basic.Array" data-label="GraphLang Array" class="palette_node_element draw2d_droppable">GraphLang Array</div>
      <div data-shape="GraphLang.Shapes.Basic.NumericConstant" data-label="GraphLang NumericConstant" class="palette_node_element draw2d_droppable">GraphLang NumericConstant</div>
      <div data-shape="GraphLang.Shapes.Basic.BundleByName" data-label="GraphLang BundleByName" class="palette_node_element draw2d_droppable">
        <img src="GraphLangSymbols/bundleByName.png" />
        GraphLang BundleByName
      </div>
      <div data-shape="GraphLang.Shapes.Basic.UnbundleByName" data-label="GraphLang UnbundleByName" class="palette_node_element draw2d_droppable">GraphLang UnbundleByName</div>
      <div data-shape="GraphLang.Shapes.Numeric.Add" data-width="300" data-height="300" data-label="GraphLang Add" class="palette_node_element draw2d_droppable">GL Add</div>
      <div data-shape="GraphLang.Shapes.Numeric.Subtract" data-width="300" data-height="300" data-label="GraphLang Add" class="palette_node_element draw2d_droppable">GL Subtract</div>
      <div data-shape="GraphLang.Shapes.Basic.Loop" data-width="300" data-height="300" data-label="GraphLang Loop" class="palette_node_element draw2d_droppable">GL Loop</div>
      <div data-shape="GraphLang.Shapes.ItemsNode.PropertyNode" data-width="300" data-height="300" data-label="GraphLang PropertyNode" class="palette_node_element draw2d_droppable">PropertyNode</div>
      <div data-shape="GraphLang.Shapes.ItemsNode.InvokeNode" data-width="300" data-height="300" data-label="GraphLang InvokeNode" class="palette_node_element draw2d_droppable">InvokeNode</div>
      <div data-shape="GraphLang.ArduinoLib.Node.Add" data-label="GraphLang Arduino Add" class="palette_node_element draw2d_droppable">
        <img src="GraphLangSymbols/Arduino_add.png" />
        Arduino Add
      </div>
      <div data-shape="GraphLang.ArduinoLib.Node.Subtract" data-label="GraphLang Arduino Subtract" class="palette_node_element draw2d_droppable">
        <img src="GraphLangSymbols/Arduino_subtract.png" />
        Arduino Subtract
      </div>
      <div data-shape="GraphLang.ArduinoLib.Node.digitalWrite" data-label="GraphLang Arduino digtalWrite" class="palette_node_element draw2d_droppable">
        <img src="GraphLangSymbols/Arduino_digitalWrite.png" />
        Arduino digitalWrite
      </div>
      <div data-shape="GraphLang.ArduinoLib.Node.digitalRead" data-label="GraphLang Arduino digtalWrite" class="palette_node_element draw2d_droppable">
        <img src="GraphLangSymbols/Arduino_digitalRead.png" />
        Arduino digitalRead
      </div>
      <div data-shape="GraphLang.ArduinoLib.Node.waitUntilNextMs" data-label="GraphLang Arduino waitUntilNextMs" class="palette_node_element draw2d_droppable">
        <img src="GraphLangSymbols/Arduino_waitUntilNextMs.png" />
        Arduino waitUntilNextMs
      </div>
      <div data-shape="GraphLang.Shapes.Basic.Loop.WhileLoop" data-label="GraphLang Arduino WhileLoop" class="palette_node_element draw2d_droppable">WhileLoop</div>
      <div data-shape="GraphLang.Shapes.Basic.Loop.ForLoop" data-label="GraphLang Arduino ForLoop" class="palette_node_element draw2d_droppable">ForLoop</div>
      <div data-shape="GraphLang.Shapes.Basic.Loop.Multilayered" data-label="GraphLang Arduino Multilayered" class="palette_node_element draw2d_droppable">Multilayered</div>
      <div data-shape="GraphLang.ArduinoLib.Node.Math.Abs" data-label="GraphLang Arduino Math Abs" class="palette_node_element draw2d_droppable">
        <img src="GraphLangSymbols/Arduino_Math_Abs.png" />
        Arduino Math.Abs
      </div>
      <div data-shape="GraphLang.ArduinoLib.Node.pinMode" data-label="GraphLang Arduino pinMode" class="palette_node_element draw2d_droppable">
        <img src="GraphLangSymbols/Arduino_pinMode.png" />
        Arduino pinMode
      </div>
      <div data-shape="GraphLang.ArduinoLib.Node.Serial.begin" data-label="GraphLang Arduino Serial.begin" class="palette_node_element draw2d_droppable">
        <img src="GraphLangSymbols/Arduino_Serial_begin.png" />
        Arduino Serial.begin
      </div>
      <div data-shape="GraphLang.ArduinoLib.Node.Serial.println" data-label="GraphLang Arduino Serial.println" class="palette_node_element draw2d_droppable">
        <img src="GraphLangSymbols/Arduino_Serial_println.png" />
        Arduino Serial.println
      </div>
      <div data-shape="GraphLang.ArduinoLib.Node.Multiply" data-label="GraphLang Arduino Multiply" class="palette_node_element draw2d_droppable">
        <img src="GraphLangSymbols/Arduino_multiply.png" />
        Arduino Multiply
      </div>
      <div data-shape="GraphLang.ArduinoLib.Node.Divide" data-label="GraphLang Arduino Divide" class="palette_node_element draw2d_droppable">
        <img src="GraphLangSymbols/Arduino_divide.png" />
        Arduino Divide
      </div>
      <div data-shape="GraphLang.ArduinoLib.Node.analogRead" data-label="GraphLang Arduino analogRead" class="palette_node_element draw2d_droppable">
        <img src="GraphLangSymbols/Arduino_analogRead.png" />
        Arduino analogRead
      </div>
      <div data-shape="GraphLang.ArduinoLib.Node.analogWrite" data-label="GraphLang Arduino analogWrite" class="palette_node_element draw2d_droppable">
        <img src="GraphLangSymbols/Arduino_analogWrite.png" />
        Arduino analogWrite
      </div>
      <div data-shape="GraphLang.ArduinoLib.Node.toStr" data-label="GraphLang Arduino toStr" class="palette_node_element draw2d_droppable">
        <img src="GraphLangSymbols/Arduino_toString.png" />
        Arduino toStr
      </div>
      <div data-shape="GraphLang.Shapes.Basic.Constant.String" data-label="GraphLang Constant String" class="palette_node_element draw2d_droppable">GraphLang Constant String</div>
      <div data-shape="GraphLang.Shapes.Basic.Constant.int32" data-label="GraphLang Constant int32" class="palette_node_element draw2d_droppable">GraphLang Constant int32</div>
      <div data-shape="GraphLang.Shapes.Basic.Constant.bool" data-label="GraphLang Constant bool" class="palette_node_element draw2d_droppable">GraphLang Constant bool</div>
      <div data-shape="GraphLang.Shapes.Basic.Constant.float" data-label="GraphLang Constant float" class="palette_node_element draw2d_droppable">GraphLang Constant float</div>
      <div data-shape="GraphLang.ArduinoLib.String.replace" data-label="GraphLang Arduino StringReplace" class="palette_node_element draw2d_droppable">
        <img src="GraphLangSymbols/Arduino_strReplace.png" />
        Arduino StringReplace
      </div>
      <div data-shape="GraphLang.ArduinoLib.Node.ternarOperator" data-label="GraphLang Arduino ternarOperator" class="palette_node_element draw2d_droppable">
        <img src="GraphLangSymbols/Arduino_ternaryOperator.png" />
        Arduino ternarOperator
      </div>
      <div data-shape="GraphLang.ArduinoLib.Node.LJ42" data-label="GraphLang Arduino LJ42" class="palette_node_element draw2d_droppable">
        <img src="GraphLangSymbols/LJ42.png" />
        Arduino LJ42
      </div>
      <div data-shape="GraphLang.ArduinoLib.Node.ArduinoNano" data-label="GraphLang Arduino ArduinoNano" class="palette_node_element draw2d_droppable">
        <img src="GraphLangSymbols/Arduino_Nano.png" />
        Arduino Nano
      </div>
      <div data-shape="GraphLang.Shapes.Basic.FeedbackNode" data-label="GraphLang FeedbackNode" class="palette_node_element draw2d_droppable">
        <img src="GraphLangSymbols/Arduino_feedback.png" />
        GraphLang FeedbackNode
      </div>
  </div>

   <!--
    Status bar and logs, display set to none!
   -->
   <div style="display: none; position: absolute; right: 20px; bottom: 20px; width: 320px; height: 120px; border: 1px solid black; background: none;">
     Dropped obj: <div id="logitem1"></div>
     Msg: <div id="logitem2"></div>
   </div>

   <div style="position: absolute; left: 220px; bottom: 20px; width: 400px; height: 220px; background: none;">
     <canvas id="myCanvas" width="160px" height="85px" style="background: red; float: left;"></canvas>

     <div id="imgDiv" style="overflow: hidden; height: 200px; width: 200px; background: yellow;">
       <img class="shadow" id="preview" style="border-radius:5px;overflow:auto;/* position:absolute; top:10px; left:10px; */width:150; height:150;border:3px solid gray; background: #FFFFFF; margin: 0 0 0 0;"/>
     </div>
   </div>

   <!-- window with JSON representation of schematic -->
   <div id="json" style="display: none; overflow:auto;position:absolute; top:100px; right:10px; width:350; height:100;background:white;border:1px solid gray"></div>
   <div id="json2" style="display: none; overflow:auto;position:absolute; top:100px; left:220px; width:250; height:100;background:white;border:1px solid gray">
   </div>

</body>
</html>
